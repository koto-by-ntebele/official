(self.webpackJsonp=self.webpackJsonp||[]).push([["manifests/home","application"],{"./app/javascript/application.js":function(e,t,i){"use strict";i.r(t);i("./node_modules/@shopify/polyfills/dist/src/base.js");var s=i("./node_modules/@shopify/marketing-assets/dist/javascripts/index.js");const o=".js-domain-selector-button",n=".js-domain-selector-select";class a extends s.Announcement{close(){super.close(),s.analytics.track("Domain Selector","closed",`${window.location.host}:${navigator.language.toLowerCase()}`)}}var d=class{constructor(e){if(this.$el=e,this.$button=this.$el.querySelector(o),this.$select=this.$el.querySelector(n),!this.$button||!this.$select)throw new Error("Domain selector passed incorrect element")}async init(){if(s.cookieHelper.get("noredirect"))return;const e=await this.suggestions(),t=`${window.location.host}:${navigator.language.toLowerCase()}`;e.length&&(this.populateOptions(e),this.bindListeners(),this.announcement=new a(this.$el,{cookieName:"noredirect"}),s.analytics.track("Domain Selector","shown",t,void 0,!0))}bindListeners(){this.$button.addEventListener("click",e=>{e.preventDefault();const t=new URL(this.$select.value);s.analytics.track("Domain Selector","accepted",`${window.location.host}:${t.host}`),window.location.href=t.toString()})}populateOptions(e){this.$select.innerHTML="";const t=document.createDocumentFragment();e.forEach(e=>{const i=document.createElement("option");i.innerHTML=e.display,i.value=e.url,t.appendChild(i)}),this.$select.appendChild(t)}async suggestions(){const e=await fetch("/domain-services/suggest",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({path:window.location.pathname})});if(200!==e.status)throw new Error("Domain suggestion request failed with status "+e.status);const t=await e.json();if(!t.suggested)throw new Error("Domain suggestion request returned incorrect data");return t.suggested}};var r=class{async detectLoginState(){if(!this.hasCookie())try{const e=await fetch("/identity/detect",{credentials:"include",mode:"no-cors"});s.analytics.track("identity","detect",e.ok?"logged-in":"logged-out"),this.setCookie()}catch(e){}}setCookie(){const e=new Date;e.setMinutes(e.getMinutes()+15),s.cookieHelper.set("identity-session-detected","1",{expires:e.toGMTString()})}hasCookie(){return s.cookieHelper.get("identity-session-detected")}};window.App=window.App||{},window.ShopifyMarketing=window.ShopifyMarketing||{},App.config&&App.config.signupHost&&s.config.set("SignupBaseURI","https://"+App.config.signupHost),s.config.set("customGoogleAnalyticsNamespace","_other"),Object(s.init)(),(new r).detectLoginState();const l=document.getElementById("ShopifyMainNav");App.scrollTo=new s.ScrollTo({offset:l?-l.offsetHeight:0}),new s.StickyNav;const c=document.querySelector(".js-domain-selector");if(c){new d(c).init()}},"./app/javascript/components/demo-video.js":function(e,t,i){"use strict";var s=i("./node_modules/enquire.js/src/index.js"),o=i.n(s),n=i("./node_modules/waypoints/src/entries/noframework.js"),a=i.n(n),d=i("./node_modules/@shopify/marketing-assets/dist/javascripts/index.js");t.a=class{constructor(e){this.isLoaded=!1,this.container=e,this.video=e.querySelector(".demo-video__video"),this.playButton=e.querySelector(".demo-video__button--play"),this.pauseButton=e.querySelector(".demo-video__button--pause"),this.buttonWasClicked=!1,this.bindFunctions(),this.init()}bindFunctions(){this.playVideoClicked=this.playVideoClicked.bind(this),this.pauseVideoClicked=this.pauseVideoClicked.bind(this),this.onVideoClick=this.onVideoClick.bind(this),this.onVideoIsPlaying=this.onVideoIsPlaying.bind(this),this.onVideoIsPaused=this.onVideoIsPaused.bind(this),this.onDesktopEnter=this.onDesktopEnter.bind(this),this.onDesktopExit=this.onDesktopExit.bind(this),this.loadVideo=d.utils.once(this.loadVideo),this.onVideoLoadEnd=d.utils.once(this.onVideoLoadEnd.bind(this))}init(){this.container.classList.remove("js-demo-video--loading"),this.playButton.addEventListener("click",this.playVideoClicked),this.pauseButton.addEventListener("click",this.pauseVideoClicked),this.video.addEventListener("click",this.onVideoClick),this.video.addEventListener("play",this.onVideoIsPlaying),this.video.addEventListener("pause",this.onVideoIsPaused),this.bindScreenResize()}initLazyload(){this.lazyload=new a.a({element:this.video,offset:"100%",handler:e=>{var t;"down"===e&&((t=this.video).offsetWidth>0||t.offsetHeight>0)&&this.loadVideo()}})}clearLazyload(){return this.lazyload&&this.lazyload.disable()}onDesktopEnter(){this.initLazyload()}onDesktopExit(){this.clearLazyload()}bindScreenResize(){o.a.register(d.Breakpoints.prototype.phone,this.onDesktopExit),o.a.register(d.Breakpoints.prototype.tabletUp,this.onDesktopEnter)}onVideoIsPlaying(){this.onVideoLoadEnd(),this.container.classList.add("js-demo-video--active"),this.buttonWasClicked&&(this.buttonWasClicked=!1,this.pauseButton.focus())}onVideoIsPaused(){this.container.classList.remove("js-demo-video--active"),this.buttonWasClicked&&(this.buttonWasClicked=!1,this.playButton.focus())}removeLazyloadListeners(){this.clearLazyload(),o.a.unregister(d.Breakpoints.prototype.phone,this.onDesktopExit),o.a.unregister(d.Breakpoints.prototype.tabletUp,this.onDesktopEnter)}loadVideo(){this.removeLazyloadListeners(),this.container.classList.add("js-demo-video--loading"),this.isLoaded=!0,this.video.querySelectorAll("source").forEach(e=>{e.src=e.getAttribute("data-src")}),this.video.load()}onVideoClick(){this.video.paused?this.playVideoClicked():this.pauseVideoClicked()}onVideoLoadEnd(){this.container.classList.remove("js-demo-video--loading")}playVideoClicked(){this.buttonWasClicked=!0,this.playVideo()}pauseVideoClicked(){this.buttonWasClicked=!0,this.pauseVideo()}playVideo(){this.isLoaded?this.video.play().then(()=>{}).catch(()=>{}):this.loadVideo()}pauseVideo(){this.video.pause()}}},"./app/javascript/components/ui-illustrations.js":function(e,t,i){"use strict";var s=i("./node_modules/@shopify/marketing-assets/dist/javascripts/index.js");class o{constructor(e){this.$elem=e,this._handleVisiblityChange=this._handleVisiblityChange.bind(this),this._contentIsVisible()?this._init():this.observer=this._observeVisibility(this.$elem,this._handleVisiblityChange)}_contentIsVisible(){return this.$elem.offsetHeight>0}_handleVisiblityChange(e){e&&(this.observer.disconnect(),this._init())}_elemWidth(){return this.$elem.offsetWidth}_init(){this.originalWidth=parseInt(getComputedStyle(this.$elem).width,10),this.$elem.style.width="100%",this.$scalingElem=this._createScalingElem(),this._nestContentInScalingContainer(),this._onResize=Object(s.throttle)(this._updateTransform.bind(this),100,!0),this._onImageLoad=Object(s.throttle)(this._onImageLoad.bind(this),500,!0),this._updateTransform(),this._registerImages(),window.addEventListener("resize",this._onResize)}_registerImages(){this.$elem.querySelectorAll("img").forEach(e=>{e.addEventListener("load",this._onImageLoad)})}_onImageLoad(){this._updatePlaceholderSize()}_nestContentInScalingContainer(){for(;this.$elem.hasChildNodes();)this.$scalingElem.appendChild(this.$elem.firstChild);this.$elem.append(this.$scalingElem),this.$elem.append(this._createPlaceholderElem())}_heightToWidthRatio(){return this.$scalingElem.offsetHeight/this.$scalingElem.offsetWidth*100}_createPlaceholderElem(){return this.$placeholderElem=document.createElement("div"),this.$placeholderElem.style.setProperty("height","0"),this._updatePlaceholderSize(),this.$placeholderElem}_createScalingElem(){const e=document.createElement("div");return e.style.setProperty("width",this.originalWidth+"px"),e.style.setProperty("position","absolute"),e.style.transformOrigin="0 0",e}_containerSizeAsPercentageOfBase(){return this._elemWidth()/this.originalWidth}_updatePlaceholderSize(){this.$placeholderElem.style.setProperty("padding-bottom",this._heightToWidthRatio()+"%")}_updateTransform(){const e=this._containerSizeAsPercentageOfBase();this.$scalingElem.style.setProperty("transform",`scale(${e})`)}_observeVisibility(e,t){const i={root:document.documentElement},s=new IntersectionObserver(e=>{e.forEach(e=>{t(e.intersectionRatio>0)})},i);return s.observe(e),s}}i.d(t,"a",(function(){return a}));const n="ui-illustration__component";class a{constructor(){this.illustrations=[],document.querySelectorAll("."+n).forEach(this.addIllustration.bind(this))}addIllustration(e){this.illustrations.push(e),this._initTextScale(e),e.classList.add(n+"--initialized")}_initTextScale(e){return new o(e)}}},"./app/javascript/manifests/home.js":function(e,t,i){"use strict";i.r(t);var s=i("./node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),o=i("./app/javascript/components/ui-illustrations.js"),n=i("./app/javascript/components/demo-video.js"),a=i("./app/javascript/modules/wistia-modal/index.js"),d=i("./app/javascript/modules/transparent-nav.js");i("./app/javascript/application.js");function r(){const e=document.querySelector(".js-announcement");e&&new s.Announcement(e),Object(d.a)(document.querySelector(".homepage-hero")),document.querySelectorAll(".pillars-animation").forEach(e=>{new n.a(e)}),document.querySelectorAll(".js-wistia-modal").forEach(e=>new a.a(e))}new o.a,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r()},"./app/javascript/modules/transparent-nav.js":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("./node_modules/waypoints/src/entries/noframework.js"),o=i.n(s);function n(e){const t=document.querySelector(".marketing-nav");new o.a({element:e,offset:()=>-e.clientHeight+t.clientHeight,handler:e=>{"down"===e?t.classList.add("marketing-nav--solid"):t.classList.remove("marketing-nav--solid")}})}},"./app/javascript/modules/wistia-modal/container.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="wistia-modal">\n  <div class="wistia-modal__spinner"></div>\n  <div class="wistia-modal__embed-container">'+(null==(__t=embed)?"":__t)+"</div>\n</div>\n";return __p}},"./app/javascript/modules/wistia-modal/embed.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div id="'+(null==(__t=instanceId)?"":__t)+'" class="wistia-modal__embed wistia_embed wistia_async_'+(null==(__t=wistiaId)?"":__t)+'">&nbsp;</div>\n';return __p}},"./app/javascript/modules/wistia-modal/hidden-container.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="visuallyhidden" aria-hidden="true">'+(null==(__t=embed)?"":__t)+"</div>\n";return __p}},"./app/javascript/modules/wistia-modal/index.js":function(e,t,i){"use strict";var s=i("./node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),o=i("./app/javascript/modules/wistia-modal/container.ejs"),n=i.n(o),a=i("./app/javascript/modules/wistia-modal/embed.ejs"),d=i.n(a),r=i("./app/javascript/modules/wistia-modal/hidden-container.ejs"),l=i.n(r);function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}window._wq=window._wq||[];t.a=class{constructor(...e){const{$trigger:t,wistiaId:i,wistiaOptions:o}=this._resolveArgs(...e);Object.assign(this,{$trigger:t,wistiaId:i,wistiaOptions:o}),this._instanceId=Object(s.uniqueId)(),this._videoIsReadyToPlay=!1,this._loadWistiaHasRun=!1,this._parser=new DOMParser,this._$container=this._generateContainer(),["_modalTemplate","_loadWistia","_onVideoEmbedded","_onVideoPlayed","_onModalOpened"].forEach(e=>{this[e]=this[e].bind(this)}),window._wq.push(this._wistiaConfig),this._modal=this._initiateModal()}get _wistiaLoaded(){return this._loadWistiaHasRun||void 0!==window.Wistia}get _wistiaConfig(){return{id:this._instanceId,options:h({autoPlay:!0,silentAutoPlay:!1},this.wistiaOptions),onEmbedded:this._onVideoEmbedded}}_resolveArgs(e,t,i={}){const s={};if(!(e instanceof HTMLElement))throw new Error("WistiaModal wasn't passed an HTMLElement");if(s.$trigger=e,s.wistiaOptions=i,"object"==typeof t?s.wistiaOptions=t:"string"==typeof t&&(s.wistiaId=t),!s.wistiaId&&s.$trigger.dataset.wistiaId&&(s.wistiaId=s.$trigger.dataset.wistiaId),!s.wistiaId)throw new Error("WistiaModal couldn't resolve to a Wistia ID");return s}_initiateModal(){const e=new s.Modal(this.$trigger,this._modalTemplate,{modalStyleModifierClasses:{container:"modal-container--wistia modal-container--lowlight",closeIcon:"icon-modules-close-white"}});return e.on("opened",this._onModalOpened),e}_modalTemplate(){return this._$container}_generateContainer(){const e=d()({instanceId:this._instanceId,wistiaId:this.wistiaId}),t=n()({embed:e});return this._htmlStringToElement(t)}_generateHiddenContainer(){const e=d()({instanceId:"hidden_"+this._instanceId,wistiaId:this.wistiaId}),t=l()({embed:e});return this._htmlStringToElement(t)}_htmlStringToElement(e){return this._parser.parseFromString(e,"text/html").body.firstChild}_onModalOpened(){this.video&&this.video.play(),this._wistiaLoaded||this._loadWistia()}_onVideoPlayed(){this._videoHasPlayed||(this._videoHasPlayed=!0,this._$container.classList.add("has-played"))}_onVideoEmbedded(e){this.video=e,this.video.bind("play",this._onVideoPlayed)}_loadWistia(){this._loadWistiaHasRun=!0,this._loadScript(`https://fast.wistia.com/embed/medias/${this.wistiaId}.jsonp`),this._loadScript("https://fast.wistia.com/assets/external/E-v1.js")}_loadScript(e){const t=document.createElement("script");t.type="text/javascript",document.body.appendChild(t),t.src=e}}}},[["./app/javascript/manifests/home.js","runtime","vendor"]]]);
//# sourceMappingURL=home-653caee7cd9550e5137b90af9d2a85775eddb8b9dd6199abceafe195f6529a02.js.map